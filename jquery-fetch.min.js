'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&'function'==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?'symbol':typeof c};(function(c,d,f){function g(u,v){if(!u||!v)return!1;for(var w in u)if(u.hasOwnProperty(w)&&(!(w in v)||u[w]!==v[w]))return!1;return!0}function i(u){return function(v){return new Promise(function(w){setTimeout(w,u,v)})}}function j(u,v,w){return function(y){return new Promise(function(z,A){jQuery(y).animate(u,{duration:v,easing:w,done:function done(){z(y)},fail:function fail(){A(y)}})})}}function k(u,v){if(!v)u(d);else{var w;'string'==typeof v||'number'==typeof v?w=v:'object'===('undefined'==typeof v?'undefined':_typeof(v))&&(v instanceof Error||'message'in v&&'stack'in v&&'fileName'in v)?(w=v.toString()+'\n',w+='in: '+v.fileName.replace(/^(?:\/\/|[^\/]+)*\//,'/')+'\n',w+='at: '+v.lineNumber+' : '+v.columnNumber+'\n',w+=v.stack):'getResponseHeader'in v&&0<=(v.getResponseHeader('Content-Type')||'').indexOf('html')&&'responseText'in v?w=new DOMParser().parseFromString(v.responseText,'text/html').querySelector('title').textContent.trim():'error'in v?w=v.error:w=JSON.stringify(v),console.log(v),console.log(w),u(d+'\n\n'+w)}return v}function l(u){throw k(alert,u),u}function m(u){throw k(s,u),u}function n(u){console.log(u)}function p(u){var v=('0000'+u).slice(-4);return function(w){alert('ERROR #'+v+'\n'+('string'==typeof w?w:JSON.stringify(w,null,2)))}}var s={};s=function notify(){return s.callable.apply(this,arguments)},s.callable=function(){var u=Array.prototype.slice.apply(arguments).join(' '),v=jQuery('<div>').attr('class','notification').text(u.replace(/\n/g,'%nl%')).appendTo(document.body);return v[0].innerHTML=v[0].innerHTML.replace(/%nl%/g,'<br>'),s.promise=s.promise.then(function(){return v}).then(j({'margin-top':-1*v.outerHeight()+'px'},500)).then(i(100*u.length)).then(j({'margin-top':'0px'},1e3)).then(function(){v.remove()})},s.promise=Promise.resolve();var q='Notification'in c?c:'Notification'in window?window:null;q&&q.Notification.requestPermission().then(function(u){'granted'===u&&(s.callable=function(v){v=v||'';var w=v.split('\n'),y={};return 1<w.length&&(y.body=w.slice(1).join('\n').trim('\n')),new Notification(w[0],y)})}).catch(function(u){s(u)}),c.jQuery.fetch=function(){return c.jQuery.fetch.callable.apply(this,arguments)},c.jQuery.fetch.callable=function(u,v,w,y){return new Promise(function(z,A){var B=(v===void 0?c.jQuery.get:c.jQuery.post)(u,v,function(C){w===void 0||null===w?z(C):'function'==typeof w?(w(C)?z:A)(C):(g(w,C)?z:A)(C)}).fail(function(C){A(C)});y&&y(B)})},c.jQuery.fetch.delay=i,c.jQuery.fetch.animate=j,c.jQuery.fetch.notify=s,c.jQuery.fetch.error={fn:k,alert:l,notify:m,absorb:n,make:{alertWithId:p}},f&&(c.delay=i,c.animate=j,c.notify=s,c.error_fn=k,c.error_alert=l,c.error_notify=m,c.error_absorb=n,c.error_makeAlertWithId=p)})(window,'fetch'in window.jQuery?window.jQuery.fetch.fn_text:'',!!('fetch'in window.jQuery)&&window.jQuery.fetch.do_globals);
